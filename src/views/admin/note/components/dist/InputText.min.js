"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],u=0,c=o.length;u<c;u++,a++)n[a]=o[u];return n};exports.__esModule=!0;var react_1=require("react"),recoil_1=require("recoil"),DropdownMenu_1=require("./DropdownMenu"),atom_1=require("context/atom");function InputText(){var e=react_1.useState([{id:1,content:""}]),n=e[0],a=e[1],t=react_1.useState(!1),r=t[0],u=t[1],o=react_1.useState({top:0,left:0}),c=o[0],i=o[1],s=react_1.useState(),l=(s[0],s[1],recoil_1.useRecoilState(atom_1.labelState)),f=(l[0],l[1],react_1.useRef(null));react_1.useLayoutEffect(function(){f.current.focus()});function _(e,t){"Enter"===e.key&&(e.preventDefault(),a(function(e){return __spreadArrays(e,[{id:e[e.length-1].id+1,content:""}])}))}return react_1.default.createElement("div",{className:" ml-10 mt-5 w-full flex-col"},n.map(function(t){return react_1.default.createElement("textarea",{rows:1,ref:f,id:"note-block",key:t.id,value:t.content,onChange:function(e){return function(t,r){var e=n.map(function(e){return e.id===r?__assign(__assign({},e),{content:t.target.value}):e});a(e)}(e,t.id)},onKeyDown:function(e){!function(e){if("/"===e.key){var t=e.currentTarget,r=t.selectionStart,n=t.offsetLeft,a=t.offsetTop,o=t.offsetHeight;i({top:a+o,left:n+8*r}),u(!0)}else"Backspace"!==e.key&&"Escape"!==e.key||u(!1)}(e,t.id),_(e,t.id)},onInput:function(e){return t.id,f.current.style.height="auto",void(f.current.style.height=f.current.scrollHeight+"px")},className:"w-[80%] resize-none bg-lightPrimary outline-none",placeholder:"text를 입력해주세요"})}),r&&react_1.default.createElement(DropdownMenu_1.default,{cursorPosition:c,onClose:function(){return u(!1)}}))}exports.default=InputText;
//# sourceMappingURL=InputText.min.js.map
